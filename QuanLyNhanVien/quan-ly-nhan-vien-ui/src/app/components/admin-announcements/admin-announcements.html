<div class="announcement-container">
    <mat-card class="create-card">
        <div class="card-header">
            <div class="icon-box">
                <mat-icon>campaign</mat-icon>
            </div>
            <div>
                <h2>Tạo Thông Báo Mới</h2>
                <p>Gửi thông tin cập nhật đến toàn thể nhân viên</p>
            </div>
        </div>
        <mat-card-content>
            <form (ngSubmit)="createAnnouncement()">
                <div class="form-row">
                    <mat-form-field appearance="outline" class="title-field">
                        <mat-label>Tiêu đề thông báo</mat-label>
                        <mat-icon matPrefix>label</mat-icon>
                        <input matInput [(ngModel)]="title" name="title" placeholder="Ví dụ: Lịch nghỉ lễ..." required>
                    </mat-form-field>
                    <div class="checkbox-wrapper">
                        <mat-checkbox [(ngModel)]="isImportant" name="isImportant" color="warn">
                            Tin quan trọng!
                        </mat-checkbox>
                    </div>
                </div>
                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Nội dung chi tiết</mat-label>
                    <textarea matInput [(ngModel)]="content" name="content" rows="6" placeholder="Nhập nội dung..." required></textarea>
                </mat-form-field>
                <div class="form-actions">
                    <button mat-raised-button color="primary" type="submit" class="btn-post">
                        <mat-icon>send</mat-icon> Đăng thông báo
                    </button>
                </div>
            </form>
        </mat-card-content>
    </mat-card>
    <div class="history-section">
        <h3 class="section-title">Tin đã đăng gần đây</h3>
        
        <div class="news-list">
            <div *ngFor="let news of announcements" class="news-card">
                <div class="news-icon" [class.important]="news.isImportant">
                    <mat-icon>{{ news.isImportant ? 'notifications_active' : 'article' }}</mat-icon>
                </div>
                
                <div class="news-content">
                    <div class="news-header">
                        <span class="news-title">{{ news.title }}</span>
                        <span class="news-date">{{ news.createdAt | date:'dd/MM/yyyy HH:mm' }}</span>
                    </div>
                    <p class="news-desc">{{ news.content }}</p>
                </div>
                <button mat-icon-button color="warn" (click)="deleteNews(news.id)" matTooltip="Xóa tin này">
                    <mat-icon>delete_outline</mat-icon>
                </button>
            </div>
            <div *ngIf="announcements.length === 0" class="empty-state">
                <p>Chưa có thông báo nào được đăng.</p>
            </div>
        </div>
    </div>

</div>